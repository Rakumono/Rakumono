(function(){if(typeof jQuery=="undefined"||typeof jQuery.noConflict!="function"){return}var a=jQuery;a(function(){a(".gainPointLink").click(function(){var c=a(this);var d=c.attr("id").replace("gainPointLink_","");c.hide();var b=a("#gainPointUnlogin_"+d);if(b.length>0){b.hide()}var e=a("#loading_"+d);e.fadeIn();jQuery.ajax({async:true,url:"https://basket.step.rakuten.co.jp/rms/mall/bs/gainpointajax/",data:{shop_id:d},type:"POST",dataType:"json",scriptCharset:"EUC-JP",timeout:50000,success:function(f){e.hide();if(f.result=="true"){a("#gainPoint_"+d).text(f.gain_point+"ポイント");a("#gainPointMessage_"+d).fadeIn();if(b.length>0){b.fadeIn()}}else{a("#gainPointErrorMessage_"+d).fadeIn()}},error:function(){e.hide();a("#gainPointErrorMessage_"+d).fadeIn()}})})})})();