(function(){if(typeof sub_total==="undefined"||typeof pro_shopName==="undefined")return;var objPoint={point:0,setPoint:function(point){this.point=point},getPoint:function(){return this.point}};var objPrice={calculateTotal:function(subTotal,point){if(subTotal<point)return 0;return subTotal-point},number_format:function(num){var count=0;var priceNum=""+num;var commaNum="";for(var i=priceNum.length-1;i>=0;i--){count++;commaNum=priceNum.charAt(i)+commaNum;if(count%3==0&&i!=0)commaNum=","+commaNum}return commaNum}};var objDom={getObject:function(id){return document.getElementById(id)},innerText:function(selector,text){var element=this.getObject(selector);if(!element)return;if(typeof element.textContent==="undefined")element.innerText=text;else element.textContent=text},innerHTML:function(selector,text){var element=this.getObject(selector);if(!element)return;element.innerHTML=text}};try{var pointSetting=document.getElementById("cardPointSetting").getAttribute("data-point")}catch(e){return}pointSetting=pointSetting.replace(",","");pointSetting=parseInt(pointSetting);objPoint.setPoint(pointSetting);var total=objPrice.calculateTotal(sub_total,objPoint.getPoint());if(sub_total<objPoint.getPoint())objDom.innerHTML("rcard_comment", '<br/><font size="-2">※余ったポイントは楽天市場での別のお買い物にご利用いただけます。</font>');objDom.innerHTML("rcard_total","<span width=100%>"+objPrice.number_format(sub_total) +"円" +'</span>');objDom.innerHTML("rcard_subTotal","<span width=100%>"+objPrice.number_format(total)+"</span>");objDom.innerText("rcard_proShopName", "ショップ名："+ pro_shopName +"のご利用例");})();